
MARCAS = {
    "intelbras": {
        "nome_exibicao": "Intelbras",
        "template": "rtsp://{USUARIO}:{SENHA}@{DOMINIO}:{PORTA}/cam/realmonitor?channel={CANAL}&subtype={SUBTIPO}",
        "ajuda": {
            "DOMINIO": "IP ou endereço DDNS (ex: 201.69.32.233 ou meucftv.ddns.net)",
            "PORTA": "Porta RTSP redirecionada (ex: 554 ou 49180)",
            "USUARIO": "Usuário de acesso da câmera (ex: admin)",
            "SENHA": "Senha de acesso da câmera",
            "CANAL": "Número do canal da câmera (ex: 1)",
            "SUBTIPO": "Tipo de stream (0 para Principal/Alta Qualidade, 1 para Extra/Baixa Qualidade)"
        }
    },
    "hikvision": {
        "nome_exibicao": "Hikvision",
        "template": "rtsp://{USUARIO}:{SENHA}@{DOMINIO}:{PORTA}/Streaming/Channels/{CANAL}0{STREAM}",
        "ajuda": {
            "DOMINIO": "IP ou endereço DDNS",
            "PORTA": "Porta RTSP (padrão: 554)",
            "USUARIO": "Usuário da câmera",
            "SENHA": "Senha da câmera",
            "CANAL": "Número do canal (ex: 1)",
            "STREAM": "Tipo de stream (1 para Principal, 2 para Extra/Substream)"
        }
    },
    "uniview": {
        "nome_exibicao": "Uniview (UNV)",
        "template": "rtsp://{USUARIO}:{SENHA}@{DOMINIO}:{PORTA}/media/video/stream/main?channel={CANAL}&subtype={SUBTIPO}",
        "ajuda": {
            "DOMINIO": "IP ou endereço DDNS",
            "PORTA": "Porta RTSP (padrão: 554)",
            "USUARIO": "Usuário da câmera",
            "SENHA": "Senha da câmera",
            "CANAL": "ID do canal (geralmente começa em 1)",
            "SUBTIPO": "Tipo de stream (0 para Principal, 1 para Extra)"
        }
    }
   
}

def main():
    """Função principal que executa o programa."""
    
    lista_marcas = list(MARCAS.keys())

    while True:
        print("\n===== Gerador de URL RTSP =====")
        for i, nome_marca in enumerate(lista_marcas):
            print(f"[{i + 1}] - {MARCAS[nome_marca]['nome_exibicao']}")
        print("[0] - Sair")
        print("===============================")

        try:
            escolha_str = input("Escolha o número da marca desejada: ")
            escolha_num = int(escolha_str)

            if escolha_num == 0:
                print("Saindo do programa. Até mais!")
                break
            
            if 1 <= escolha_num <= len(lista_marcas):
                marca_selecionada_key = lista_marcas[escolha_num - 1]
                marca_selecionada = MARCAS[marca_selecionada_key]
            else:
                print("\nERRO: Opção inválida. Por favor, escolha um número da lista.")
                continue

        except ValueError:
            print("\nERRO: Entrada inválida. Por favor, digite apenas um número.")
            continue

        print(f"\n--- Preenchendo informações para a marca: {marca_selecionada['nome_exibicao']} ---")
        print(f"Padrão da URL: {marca_selecionada['template']}")
        
        valores_usuario = {}
        for campo, ajuda in marca_selecionada['ajuda'].items():
            valor = input(f"Digite o valor para {campo} ({ajuda}): ")
            valores_usuario[campo] = valor

        url_final = marca_selecionada['template']
        for campo, valor in valores_usuario.items():
            placeholder = "{" + campo + "}"
            url_final = url_final.replace(placeholder, valor)

        print("\n---------------------------------")
        print("URL RTSP Gerada com Sucesso:")
        print(url_final)
        print("---------------------------------")
        
        input("\nPressione Enter para continuar...")

if __name__ == "__main__":
    main()
    
#grupoibr2304
